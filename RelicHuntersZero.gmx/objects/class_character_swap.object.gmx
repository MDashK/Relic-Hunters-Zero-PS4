<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>class_interactive_master</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Main Variables
event_inherited();

range = 100;
in_range = false;

myCharacter = char_pinky;

myPrompt = instance_create(x+10,y-25,fx_prompt_e);
myPrompt.owner = id;
image_speed = 0.2;

depth=-y-2;

active = false;
unlock = false;

if (active) reflection_object_setup(0,-1,image_index);
else  reflection_object_setup(0,spr_casing_blob,0);

oldWeapon1 = noone;
oldWeapon2 = noone;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Interact

if (unlock)
{
    if (global.character[1] == myCharacter) || (global.playerCount &gt; 1 &amp;&amp; global.character[2] == myCharacter) instance_destroy();
    else active = true;
}

if instance_exists(activationClient) &amp;&amp; (active)
{
    var p = activationClient.myPlayerId;
    
    if (point_distance(x,y,activationClient.x,activationClient.y) &lt;= range) in_range = true;
    
    if (wantToActivate) &amp;&amp; (in_range)
    {
        global.weapon1[p] = oldWeapon1;
        global.weapon2[p] = oldWeapon2;
        
        if instance_exists(activationClient.weapon1) oldWeapon1 = activationClient.weapon1.object;
        else oldWeapon1 = noone;

        if instance_exists(activationClient.weapon2) oldWeapon2 = activationClient.weapon2.object;
        else oldWeapon2 = noone;
    
        if (myCharacter == char_pinky) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_pinky;
            newChar = instance_create(activationClient.x,activationClient.y,obj_pinky);
        }
        else if (myCharacter == char_jimmy) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_jimmy;
            newChar = instance_create(activationClient.x,activationClient.y,obj_jimmy);
        }
        else if (myCharacter == char_raff) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_raff;
            newChar = instance_create(activationClient.x,activationClient.y,obj_raff);
        }
        else if (myCharacter == char_biu) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_biu;
            newChar = instance_create(activationClient.x,activationClient.y,obj_biu);
        }
        else if (myCharacter == char_punny) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_punny;
            newChar = instance_create(activationClient.x,activationClient.y,obj_punny);
        }
        else if (myCharacter == char_ass) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_ass;
            newChar = instance_create(activationClient.x,activationClient.y,obj_assPlayer);
        }
        else if (myCharacter == char_rider) 
        {
            myCharacter = global.character[p];
            global.character[p] = char_rider;
            newChar = instance_create(activationClient.x,activationClient.y,obj_rider);
        }
        
        newChar.myPlayerId = p;
        isClientLocked = false;
        with (newChar) event_perform(ev_other,ev_user0);
        
        audio_play(newChar.audio_emitter, false, 1, sfx_switch_char);
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Unlock

if (myCharacter != char_jimmy) unlock = false;
else unlock = true; 

if (myCharacter == char_rider) unlock = true;

if (myCharacter == char_pinky) &amp;&amp; (global.unlockPinky) unlock = true; //Starts unlocked

if (myCharacter == char_raff) &amp;&amp; (global.unlockRaff) unlock = true; //Unlocks on teleporter purchase

if (myCharacter == char_biu) &amp;&amp; (global.unlockBiu) unlock = true; //Unlocks on boss corpse, no checkpoints

if (myCharacter == char_punny) &amp;&amp; (global.unlockPunny) unlock = true; //collect a lot of bounty

if (myCharacter == char_ass) &amp;&amp; (global.unlockAss) unlock = true; //get killed at the boss 5 times (corpse)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Main Draw

if (myCharacter == char_pinky) sprite_index = spr_pinky_holo;
if (myCharacter == char_jimmy) sprite_index = spr_jimmy_holo;
if (myCharacter == char_raff) sprite_index = spr_raff_holo;
if (myCharacter == char_biu) sprite_index = spr_biu_holo;
if (myCharacter == char_punny) sprite_index = spr_punny_holo;
if (myCharacter == char_ass) sprite_index = spr_ass_holo;
if (myCharacter == char_rider) sprite_index = spr_rider_idle;

if (active) draw_self();

if (active) reflection_object_setup(0,-1,image_index);
else
{
    reflection_object_setup(0,spr_casing_blob,0);
    draw_set_font(global.font_numberSmall);
    draw_set_halign(fa_center);
    draw_set_valign(fa_bottom);
    draw_set_color(c_white);
    
    if (!unlock)
    {
        var stringUnlockCharacter = '';
        
        if (myCharacter == char_pinky) stringUnlockCharacter = 'I AM ERROR';
        if (myCharacter == char_raff) stringUnlockCharacter = loc_key("HUD_UNLOCK_REQ_RAFF");
        if (myCharacter == char_biu) stringUnlockCharacter = loc_key("HUD_UNLOCK_REQ_BIU");
        if (myCharacter == char_punny) stringUnlockCharacter = loc_key("HUD_UNLOCK_REQ_PUNNY");
        if (myCharacter == char_jimmy) stringUnlockCharacter = 'I AM ERROR';
        if (myCharacter == char_rider) stringUnlockCharacter = 'I AM ERROR';
        
        draw_text_ext(x, y-28, stringUnlockCharacter, 19, 150);
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
