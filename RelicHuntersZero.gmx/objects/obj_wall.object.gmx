<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_block64</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>999999</depth>
  <persistent>0</persistent>
  <parentName>class_solid</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Main Variables

reflection_object_setup(0,-1,image_index);
shadow_object_setup(0,-1,-1,global.default_shadow_yscale);

image_speed = 0;

hitDirection = 0;
shake = 0;
shake_direction = 0;
shake_recovery = 0.35;
shake_max = 9;

maxhp = 9999;
hp = maxhp;
damage = 0;

drawX = x;
drawY = y;

sprite = spr_longbox;
sprite_hit = spr_longbox_hit;
sprite_dirt = spr_longbox_dirt;

hit_taken = false;
hit_taken_time = 0;

//Audio
hasImpactSound= false;
impactSound1 = sfx_debris1;
impactSound2 = sfx_debris2;
impactSound3 = sfx_debris3;

audio_emitter = audio_emitter_create();
audio_emitter_falloff(audio_emitter, global.falloffMinorDist, global.falloffMinorMax, global.falloffMinorFactor );
audio_emitter_position(audio_emitter, x, y, 0);
audio_emitter_gain(audio_emitter,global.soundVolume);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Shake
if (shake)
    {
        if shake &gt; shake_max shake = shake_max;
         
        drawX = x+lengthdir_x(shake,shake_direction);
        drawY = y+lengthdir_y(shake,shake_direction);
        
        shake -= shake_recovery;
        shake_direction = irandom(359);
        
        if shake &lt; 0 shake = 0;
    }
    
//Hit Taken
if (hit_taken)
{
    sprite_index = sprite_hit;
    
    if (!hit_taken_time) &amp;&amp; (hasImpactSound)
    {
        audio_play_exclusive(audio_emitter,false,1,impactSound1,impactSound2,impactSound3);
    }
    
    hit_taken_time++;
    
    if hit_taken_time &gt;= 5
    {
        hit_taken_time = 0;
        hit_taken = false;
    }
}
else sprite_index = sprite;
    
//Damage
if (hp &gt; maxhp*0.66) damage = 0;

if (hp &lt;= maxhp*0.66) &amp;&amp; (hp &gt; maxhp*0.33)
{
    if damage == 0
    {
        myDirt = instance_create(x,y,fx_dirt);
        myDirt.sprite_index = sprite_dirt;
    }
    damage = 1;
}

if (hp &lt;= maxhp*0.33)
{
    if damage == 1
    {
        myDirt = instance_create(x,y,fx_dirt);
        myDirt.sprite_index = sprite_dirt;
    }
    damage = 2;
}

if (hp &gt; maxhp) hp = maxhp;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw
draw_sprite(sprite_index,damage,drawX,drawY);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>32,32</point>
  </PhysicsShapePoints>
</object>
